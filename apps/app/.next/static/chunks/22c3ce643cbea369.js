(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},3353,e=>{"use strict";var t=e.i(18050),r=e.i(71645),a=e.i(18566),s=e.i(31278),i=e.i(16715),l=e.i(18135),d=e.i(80434),n=e.i(3420);function o(){let e=(0,a.useParams)(),r=e?.id,s=Array.isArray(r)?r[0]:r;return(0,t.jsx)(l.AdminProtected,{children:({supabase:e})=>s?(0,t.jsx)(c,{supabase:e,id:s}):(0,t.jsx)("div",{className:"rounded-3xl border border-red-400/40 bg-red-500/10 p-8 text-center text-sm text-red-100",children:"編集対象の導入事例 ID が見つかりませんでした。"})})}function c({supabase:e,id:a}){let[l,o]=(0,r.useState)({loading:!0,error:null,data:null}),c=(0,r.useCallback)(async()=>{o(e=>({...e,loading:!0,error:null}));let{data:t,error:r}=await e.from("cms_entries").select("id, type, title, slug, body, excerpt, tags, cover_image_url, status, published_at").eq("id",a).eq("type","case_study").maybeSingle();if(console.log("[AdminCaseStudyEditorPage] fetch result",{data:t,error:r}),r)return void o({loading:!1,error:r.message??"導入事例の取得に失敗しました",data:null});if(!t)return void o({loading:!1,error:"導入事例が見つかりません",data:null});let s=Array.isArray(t.tags)?t.tags:[],i=s.length>0?s[0]:"";o({loading:!1,error:null,data:{id:t.id,previousSlug:t.slug,title:t.title??"",slug:t.slug??"",content:t.body??"",excerpt:t.excerpt??"",category:i,categories:s,cover_image_url:t.cover_image_url??"",status:t.status??"draft",published_at:t.published_at??""}})},[e,a]);return((0,r.useEffect)(()=>{c()},[c]),l.loading)?(0,t.jsxs)("div",{className:"flex min-h-[50vh] flex-col items-center justify-center gap-3 rounded-3xl border border-white/10 bg-white/5 p-12 text-slate-300",children:[(0,t.jsx)(s.Loader2,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("p",{children:"導入事例を読み込んでいます…"})]}):l.error||!l.data?(0,t.jsxs)("div",{className:"flex min-h-[40vh] flex-col items-center justify-center gap-4 rounded-3xl border border-red-400/20 bg-red-500/5 p-10 text-center text-sm text-red-100",children:[(0,t.jsx)("p",{children:l.error??"導入事例を取得できませんでした。"}),(0,t.jsxs)(n.Button,{onClick:c,variant:"outline",className:"gap-2 border-white/30 text-white",children:[(0,t.jsx)(i.RefreshCw,{className:"h-4 w-4"})," 再読み込み"]})]}):(0,t.jsx)(d.BlogEditor,{initialData:l.data,supabaseClient:e,entryType:"case_study",entityLabel:"導入事例",newTitle:"新規事例を作成",editTitle:"事例を編集",redirectPath:"/admin/cms/case-studies",storageFolder:"case-studies"})}e.s(["default",()=>o,"dynamic",0,"force-dynamic"])}]);