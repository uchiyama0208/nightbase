module.exports=[5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},87355,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(55294);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-3xl border border-white/10 bg-white/5 p-6 shadow-[0_20px_60px_-20px_rgba(15,23,42,0.45)] backdrop-blur",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-6 flex flex-col gap-2",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-lg font-semibold text-slate-50",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-slate-300",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-slate-100",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-6 flex items-center justify-between",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},69520,a=>{"use strict";let b=(0,a.i(70106).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],69520)},62722,a=>{"use strict";let b=(0,a.i(70106).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},38907,a=>{"use strict";var b=a.i(5050),c=(0,b.createServerReference)("007459db64f988141da28e810b38601e5e8829989c",b.callServer,void 0,b.findSourceMapURL,"checkApprovalStatus");a.s(["checkApprovalStatus",()=>c])},24692,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87355),e=a.i(45750),f=a.i(50944),g=a.i(38907),h=a.i(41710),i=a.i(62722),j=a.i(69520);function k({status:a,storeName:k}){let l=(0,f.useRouter)(),[m,n]=(0,c.useState)(a),[o,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if("pending"===m){let a=setInterval(async()=>{let a=await (0,g.checkApprovalStatus)();a.success&&a.status&&("approved"===a.status?l.push("/app/dashboard"):"rejected"===a.status&&n("rejected"))},5e3);return()=>clearInterval(a)}},[m,l]);let q=async()=>{p(!0);let a=await (0,g.checkApprovalStatus)();a.success&&a.status&&("approved"===a.status?l.push("/app/dashboard"):n(a.status)),p(!1)};return"pending"===m?(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Clock,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 animate-pulse"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"承認待ち"}),(0,b.jsx)(d.CardDescription,{children:"管理者による承認をお待ちください"})]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[(0,b.jsx)("span",{className:"font-medium",children:"申請先:"})," ",k]}),(0,b.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"管理者が申請を確認次第、店舗データにアクセスできるようになります。"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"承認されると自動的にダッシュボードに移動します"}),(0,b.jsxs)(e.Button,{onClick:q,disabled:o,variant:"outline",className:"w-full",children:[(0,b.jsx)(j.RefreshCw,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),o?"確認中...":"承認状況を確認"]})]})]})]}):(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.XCircle,{className:"h-8 w-8 text-red-600 dark:text-red-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"申請が拒否されました"}),(0,b.jsx)(d.CardDescription,{children:"管理者により申請が拒否されました"})]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 space-y-2",children:[(0,b.jsxs)("p",{className:"text-sm text-red-900 dark:text-red-100",children:[(0,b.jsx)("span",{className:"font-medium",children:"申請先:"})," ",k]}),(0,b.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:"別の店舗を選択するか、店舗の管理者に直接お問い合わせください。"})]}),(0,b.jsx)(e.Button,{onClick:()=>{l.push("/onboarding/select-store")},className:"w-full",children:"店舗を選び直す"})]})]})}a.s(["PendingApprovalClient",()=>k])}];

//# sourceMappingURL=_a2fb4528._.js.map