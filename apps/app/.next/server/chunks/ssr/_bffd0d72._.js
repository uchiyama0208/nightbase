module.exports=[11587,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(55294);let f=d.Root,g=d.Trigger,h=d.Portal,i=d.Close,j=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Overlay,{ref:f,className:(0,e.cn)("fixed inset-0 z-50 bg-slate-950/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...f},g)=>(0,b.jsxs)(h,{children:[(0,b.jsx)(j,{}),(0,b.jsx)(d.Content,{ref:g,className:(0,e.cn)("fixed left-1/2 top-1/2 z-50 w-[calc(100%-2rem)] max-w-xl -translate-x-1/2 -translate-y-1/2 rounded-3xl border border-slate-200 bg-white p-8 text-slate-900 shadow-2xl backdrop-blur data-[state=open]:animate-in data-[state=closed]:animate-out dark:border-white/10 dark:bg-slate-950/95 dark:text-slate-100",a),...f,children:c})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,e.cn)("mb-6 flex flex-col gap-2 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,e.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Title,{ref:f,className:(0,e.cn)("text-xl font-semibold text-slate-900 dark:text-slate-50",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Description,{ref:f,className:(0,e.cn)("text-sm text-slate-500 dark:text-slate-400",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>f,"DialogClose",()=>i,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>g])},87355,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(55294);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-3xl border border-white/10 bg-white/5 p-6 shadow-[0_20px_60px_-20px_rgba(15,23,42,0.45)] backdrop-blur",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-6 flex flex-col gap-2",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-lg font-semibold text-slate-50",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-slate-300",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-slate-100",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-6 flex items-center justify-between",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},62722,a=>{"use strict";let b=(0,a.i(70106).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);a.s(["XCircle",()=>b],62722)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},76187,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(87355),e=a.i(45750),f=a.i(11587),g=a.i(2783),h=a.i(62403),i=a.i(5050),j=(0,i.createServerReference)("60bf5c4e88bdb14d5b965baa71f5b89ca92d36fd2f",i.callServer,void 0,i.findSourceMapURL,"approveJoinRequest"),k=(0,i.createServerReference)("40ecce9e6dfb6774d4b87c296568fb59d4e1db26f1",i.callServer,void 0,i.findSourceMapURL,"rejectJoinRequest"),l=a.i(16201),m=a.i(62722);function n({request:a,isOpen:d,onClose:i,onRequestProcessed:n}){let[o,p]=(0,c.useState)(a.role),[q,r]=(0,c.useState)(!1),s=async()=>{r(!0);let b=await j(a.id,o);b.success?n(a.id):alert(`エラー: ${b.error}`),r(!1)},t=async()=>{if(!confirm("この申請を拒否してもよろしいですか?"))return;r(!0);let b=await k(a.id);b.success?n(a.id):alert(`エラー: ${b.error}`),r(!1)};return(0,b.jsx)(f.Dialog,{open:d,onOpenChange:i,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"参加申請の確認"}),(0,b.jsx)(f.DialogDescription,{children:"申請者の情報を確認し、承認または拒否してください"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-sm text-gray-600 dark:text-gray-400",children:"表示名"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.display_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-sm text-gray-600 dark:text-gray-400",children:"本名"}),(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.real_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{className:"text-sm text-gray-600 dark:text-gray-400",children:"申請日時"}),(0,b.jsx)("p",{className:"text-gray-900 dark:text-white",children:new Date(a.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"role",children:"ロール"}),(0,b.jsxs)(h.Select,{value:o,onValueChange:p,children:[(0,b.jsx)(h.SelectTrigger,{id:"role",children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"cast",children:"キャスト"}),(0,b.jsx)(h.SelectItem,{value:"staff",children:"スタッフ"}),(0,b.jsx)(h.SelectItem,{value:"admin",children:"管理者"})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"申請時のロールから変更できます"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,b.jsxs)(e.Button,{onClick:s,disabled:q,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,b.jsx)(l.CheckCircle,{className:"h-4 w-4 mr-2"}),q?"処理中...":"許可する"]}),(0,b.jsxs)(e.Button,{onClick:t,disabled:q,variant:"destructive",className:"flex-1",children:[(0,b.jsx)(m.XCircle,{className:"h-4 w-4 mr-2"}),"拒否する"]})]})]})]})})}var o=a.i(60246),p=a.i(41675);function q({requests:a}){let[f,g]=(0,c.useState)(a),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1);return 0===f.length?(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(o.Users,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"現在、参加申請はありません"})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid gap-4",children:f.map(a=>{var c;return(0,b.jsx)(d.Card,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{i(a),k(!0)},children:(0,b.jsx)(d.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.display_name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${{cast:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",staff:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}[a.role]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:{cast:"キャスト",staff:"スタッフ"}[c=a.role]||c})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["本名: ",a.real_name]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-500",children:[(0,b.jsx)(p.Calendar,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"詳細を見る"})]})})},a.id)})}),h&&(0,b.jsx)(n,{request:h,isOpen:j,onClose:()=>k(!1),onRequestProcessed:a=>{g(f.filter(b=>b.id!==a)),k(!1)}})]})}a.s(["JoinRequestsList",()=>q],76187)}];

//# sourceMappingURL=_bffd0d72._.js.map