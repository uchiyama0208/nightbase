module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},66086,a=>{a.n(a.i(44914))},2921,a=>{a.n(a.i(93852))},73181,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AttendanceTable() from the server but AttendanceTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/app/src/app/app/(main)/attendance/AttendanceTable.tsx <module evaluation>","AttendanceTable");a.s(["AttendanceTable",0,b])},77985,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AttendanceTable() from the server but AttendanceTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/app/src/app/app/(main)/attendance/AttendanceTable.tsx","AttendanceTable");a.s(["AttendanceTable",0,b])},45514,a=>{"use strict";a.i(73181);var b=a.i(77985);a.n(b)},20337,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(9480),e=a.i(45514),f=a.i(97676);async function g(a){let{user:b,profile:e}=await (0,f.getAppData)();b||(0,c.redirect)("/login"),e&&e.store_id||(0,c.redirect)("/app/me");let g=e.store_id,h=await (0,d.createServerClient)(),[i,j]=await Promise.all([h.from("time_cards").select("*, profiles!inner(id, display_name, role)").eq("profiles.store_id",g).order("work_date",{ascending:!1}).order("clock_in",{ascending:!1}),h.from("profiles").select("id, display_name, display_name_kana, real_name, role").eq("store_id",g).order("display_name")]),k=i.data,l=j.data,m=a?.toLowerCase()||"cast";return{allRecords:(k||[]).map(a=>{let b="scheduled";a.clock_in&&!a.clock_out?b="working":a.clock_in&&a.clock_out&&(b="finished");let c=a.scheduled_start_time||a.clock_in,d=a.scheduled_end_time||a.clock_out;return{id:a.id,user_id:a.user_id,date:a.work_date,status:b,start_time:c,end_time:d,clock_in:a.clock_in,clock_out:a.clock_out,clock_in_time:a.clock_in,clock_out_time:a.clock_out,pickup_destination:a.pickup_destination,isVirtual:!1}}),allProfiles:l||[],roleFilter:m}}async function h({searchParams:a}){let c=(await a).role,{allRecords:d,allProfiles:f,roleFilter:h}=await g(c);return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl md:text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"勤怠"}),(0,b.jsx)("p",{className:"mt-2 text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"シフトの確認と出勤状況を管理します。"})]})}),(0,b.jsx)(e.AttendanceTable,{attendanceRecords:d,profiles:f,roleFilter:h})]})}a.s(["default",()=>h,"dynamic",0,"force-dynamic","metadata",0,{title:"勤怠"},"revalidate",0,0])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0185312c._.js.map