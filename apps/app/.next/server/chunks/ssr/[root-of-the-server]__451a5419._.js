module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},66086,a=>{a.n(a.i(44914))},2921,a=>{a.n(a.i(93852))},17488,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ClockButtons() from the server but ClockButtons is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/app/src/app/app/(main)/timecard/clock-in-button.tsx <module evaluation>","ClockButtons");a.s(["ClockButtons",0,b])},63984,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ClockButtons() from the server but ClockButtons is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/app/src/app/app/(main)/timecard/clock-in-button.tsx","ClockButtons");a.s(["ClockButtons",0,b])},94846,a=>{"use strict";a.i(17488);var b=a.i(63984);a.n(b)},40523,a=>{"use strict";var b=a.i(7997),c=a.i(717);a.i(70396);var d=a.i(73727),e=a.i(64386);let f=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{ref:d,className:(0,e.cn)("w-full caption-bottom text-left text-sm text-slate-900",a),...c})}));f.displayName="Table";let g=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:(0,e.cn)("text-xs uppercase tracking-[0.25em] text-slate-500",a),...c}));g.displayName="TableHeader";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:(0,e.cn)("divide-y divide-slate-100",a),...c}));h.displayName="TableBody";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:(0,e.cn)("border-b border-slate-200 transition hover:bg-slate-50",a),...c}));i.displayName="TableRow";let j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:(0,e.cn)("py-3 text-xs font-semibold text-slate-500",a),...c}));j.displayName="TableHead";let k=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:(0,e.cn)("py-4 text-sm text-slate-900",a),...c}));k.displayName="TableCell",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:(0,e.cn)("mt-4 text-xs text-slate-500",a),...c})).displayName="TableCaption",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:(0,e.cn)("bg-slate-50",a),...c})).displayName="TableFooter";var l=a.i(94846),m=a.i(87757);async function n({searchParams:a}){let e=await a,n=await (0,m.getTimecardData)();"redirect"in n&&n.redirect&&(0,d.redirect)(n.redirect),n.data||(0,d.redirect)("/app/me");let{timeCards:o,profile:p,storeSettings:q,showBreakColumns:r,latestTimeCard:s,pickupHistory:t}=n.data,u="true"===e.openModal,v="true"===e.clockOut,w=a=>a?new Date(a).toLocaleString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"-";return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl md:text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"タイムカード"}),(0,b.jsx)("p",{className:"mt-2 text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"出勤・退勤の打刻と勤務履歴を確認できます。"})]}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"h-48 bg-gray-100 dark:bg-gray-800 rounded-lg animate-pulse"}),children:(0,b.jsx)("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 p-4 md:p-6 lg:p-8 shadow-sm",children:(0,b.jsx)(l.ClockButtons,{latestTimeCard:s,storeSettings:q,showBreakButtons:r,pickupHistory:t,autoOpenModal:u,autoClockOut:v})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base md:text-lg font-semibold text-gray-900 dark:text-white mb-3 md:mb-4",children:"勤務履歴"}),(0,b.jsx)("div",{className:"rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-x-auto",children:(0,b.jsx)("div",{className:"min-w-full",children:(0,b.jsxs)(f,{children:[(0,b.jsx)(g,{children:(0,b.jsxs)(i,{className:"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,b.jsx)(j,{className:"min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"勤務日"}),(0,b.jsx)(j,{className:"min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"出勤"}),(0,b.jsx)(j,{className:"min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"退勤"}),r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{className:"hidden md:table-cell min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"休憩開始"}),(0,b.jsx)(j,{className:"hidden md:table-cell min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"休憩終了"})]}),(0,b.jsx)(j,{className:"min-w-[80px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"勤務時間"}),(0,b.jsx)(j,{className:"min-w-[90px] px-2 sm:px-4 text-center text-gray-500 dark:text-gray-400",children:"送迎先"})]})}),(0,b.jsxs)(h,{children:[o?.map(a=>(0,b.jsxs)(i,{className:"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,b.jsx)(k,{className:"font-medium text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:a.work_date}),(0,b.jsx)(k,{className:"text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:w(a.clock_in)}),(0,b.jsx)(k,{className:"text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:w(a.clock_out)}),r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{className:"hidden md:table-cell text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:w(a.break_start)}),(0,b.jsx)(k,{className:"hidden md:table-cell text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:w(a.break_end)})]}),(0,b.jsx)(k,{className:"font-medium text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:(a=>{if(!a.clock_in)return"-";let b=new Date(a.clock_in),c=((a.clock_out?new Date(a.clock_out):new Date).getTime()-b.getTime())/6e4;if(a.break_start&&a.break_end){let b=new Date(a.break_start);c-=(new Date(a.break_end).getTime()-b.getTime())/6e4}let d=Math.floor(c/60),e=Math.floor(c%60);return`${d}時間${e}分`})(a)}),(0,b.jsx)(k,{className:"text-xs md:text-sm px-2 sm:px-4 text-center text-gray-900 dark:text-white",children:a.pickup_destination||a.pickup_location||"-"})]},a.id)),(!o||0===o.length)&&(0,b.jsx)(i,{children:(0,b.jsx)(k,{colSpan:r?7:5,className:"h-24 text-center text-xs md:text-sm text-gray-500 dark:text-gray-400",children:"勤務履歴がありません"})})]})]})})})]})]})}a.s(["default",()=>n,"dynamic",0,"force-dynamic","metadata",0,{title:"タイムカード"},"revalidate",0,0],40523)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__451a5419._.js.map