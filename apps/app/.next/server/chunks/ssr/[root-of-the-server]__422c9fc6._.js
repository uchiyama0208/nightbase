module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},33354,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},36472,a=>{"use strict";let b=(0,a.i(70106).default)("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);a.s(["Wine",()=>b],36472)},3314,a=>{"use strict";let b=(0,a.i(70106).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],3314)},24034,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(71987),f=a.i(55294),g=a.i(30617),h=a.i(70106);let i=(0,h.default)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);var j=a.i(41710),k=a.i(60246),l=a.i(21161);let m=(0,h.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var n=a.i(3314);let o=(0,h.default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),p=(0,h.default)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);var q=a.i(92258),r=a.i(5784);let s=(0,h.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var t=a.i(36472),u=a.i(45750),v=a.i(57355),w=a.i(72131);function x({userRole:h,profileName:x,storeName:y,storeFeatures:z,open:A,onOpenChange:B}){let C=(0,d.usePathname)(),[D,E]=(0,w.useState)(!1),[F,G]=(0,w.useState)(!1),H=B||G,I=[{label:"ダッシュボード",icon:g.LayoutDashboard,href:"/app/dashboard",roles:["admin","staff"],feature:"dashboard"},{label:"出勤一覧",icon:i,href:"/app/attendance",roles:["admin","staff"],feature:"attendance"},{label:"タイムカード",icon:j.Clock,href:"/app/timecard",roles:["admin","staff","cast"],feature:"timecard"},{label:"プロフィール情報",icon:k.Users,href:"/app/users",roles:["admin","staff"],feature:"users"},{label:"メニュー",icon:p,href:"/app/menus",roles:["admin","staff"],feature:"menus"},{label:"ボトルキープ",icon:t.Wine,href:"/app/bottles",roles:["admin","staff"]}],J=[{label:"店舗設定",icon:l.Settings,href:"/app/settings",roles:["admin","staff"]},{label:"権限管理",icon:n.Shield,href:"/app/roles",roles:["admin","staff"],feature:"roles"},{label:"機能追加",icon:o,href:"/app/features",roles:["admin","staff"]},{label:"招待管理",icon:q.Mail,href:"/app/invitations",roles:["admin","staff"]},{label:"参加申請",icon:s,href:"/app/settings/join-requests",roles:["admin","staff"]}],K=a=>a.filter(a=>!!h&&!!a.roles.includes(h)&&(!z||("dashboard"!==a.feature||!1!==z.show_dashboard)&&("attendance"!==a.feature||!1!==z.show_attendance)&&("timecard"!==a.feature||!1!==z.show_timecard)&&("users"!==a.feature||!1!==z.show_users)&&("roles"!==a.feature||!1!==z.show_roles)&&("menus"!==a.feature||!1!==z.show_menus)&&!0)),L=K(I),M=K(J),N=async()=>{let{signOut:b}=await a.A(92143);await b()},O=({isMobile:a=!1})=>(0,b.jsxs)("div",{className:"flex h-full flex-col bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-r border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("div",{className:"pt-3 pb-1 px-3 flex justify-center",children:(0,b.jsx)(e.default,{src:"/Nightbase_textlogo_trim.png",alt:"NightBase",width:a?110:150,height:a?26:34,className:"h-auto w-auto",priority:!0})}),(0,b.jsx)("div",{className:"flex-1 px-3 py-3 overflow-y-auto",children:(0,b.jsxs)("nav",{className:"space-y-1.5",children:[L.map(a=>(0,b.jsxs)(c.default,{href:a.href,onClick:()=>H(!1),className:(0,f.cn)("flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",C===a.href?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"),children:[(0,b.jsx)(a.icon,{className:"h-5 w-5"}),a.label]},a.href)),M.length>0&&(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsxs)("button",{onClick:()=>E(!D),className:"w-full flex items-center justify-between gap-3 rounded-lg px-4 py-3 text-sm font-medium text-gray-500 dark:text-gray-400 transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Settings,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"設定"})]}),(0,b.jsx)(r.ChevronDown,{className:(0,f.cn)("h-4 w-4 transition-transform",D?"rotate-180":"")})]}),D&&(0,b.jsx)("div",{className:"mt-1 ml-4 space-y-1 border-l-2 border-gray-100 dark:border-gray-700 pl-2",children:M.map(a=>(0,b.jsxs)(c.default,{href:a.href,onClick:()=>H(!1),className:(0,f.cn)("flex items-center gap-3 rounded-lg px-4 py-2 text-sm font-medium transition-colors hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",C===a.href?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"),children:[(0,b.jsx)(a.icon,{className:"h-4 w-4"}),a.label]},a.href))})]})]})}),!a&&(0,b.jsxs)("div",{className:"px-3 py-3 border-t border-gray-200 dark:border-gray-700 space-y-3",children:[(x||y)&&(0,b.jsxs)("div",{className:"px-3 py-2 rounded-lg bg-gray-50 dark:bg-gray-700",children:[x&&(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x}),y&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:y})]}),(0,b.jsxs)(u.Button,{variant:"ghost",className:"w-full justify-start gap-3 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white",onClick:N,children:[(0,b.jsx)(m,{className:"h-5 w-5"}),"ログアウト"]})]})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Sheet,{open:void 0!==A?A:F,onOpenChange:H,children:(0,b.jsxs)(v.SheetContent,{side:"left",className:"p-0 w-72 border-r-gray-200 dark:border-r-gray-700 bg-white dark:bg-gray-800 transition-transform duration-300 ease-in-out",children:[(0,b.jsx)(v.SheetHeader,{className:"sr-only",children:(0,b.jsx)(v.SheetTitle,{children:"Menu"})}),(0,b.jsx)(O,{isMobile:!0})]})}),(0,b.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:(0,b.jsx)(O,{})})]})}var y=a.i(72692);let z=(0,h.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function A({onMenuClick:a,profileName:f,avatarUrl:g}){var h;let i=(h=(0,d.usePathname)()).includes("/dashboard")?"ダッシュボード":h.includes("/timecard")?"タイムカード":h.includes("/attendance")?"出勤管理":h.includes("/users")?"プロフィール情報":h.includes("/features")?"機能追加":h.includes("/settings")?"設定":h.includes("/me")?"マイページ":"ダッシュボード";return(0,b.jsx)("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-12",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-full px-3",children:[(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",onClick:a,className:"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700",children:(0,b.jsx)(y.Menu,{className:"h-5 w-5"})}),(0,b.jsx)("h1",{className:"text-base font-semibold text-gray-900 dark:text-white truncate max-w-[200px]",children:i}),(0,b.jsx)(c.default,{href:"/app/me",children:(0,b.jsx)(u.Button,{variant:"ghost",size:"icon",className:"text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",children:(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:g?(0,b.jsx)(e.default,{src:g,alt:f||"Profile",width:32,height:32,className:"object-cover"}):f?(0,b.jsx)("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:f.charAt(0).toUpperCase()}):(0,b.jsx)(z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})})})})]})})}function B({children:a,userRole:c,profileName:d,avatarUrl:e,storeName:f,storeFeatures:g,hideSidebar:h=!1}){let[i,j]=(0,w.useState)(!1);return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)(A,{onMenuClick:h?()=>{}:()=>j(!0),profileName:d,avatarUrl:e}),!h&&(0,b.jsx)(x,{userRole:c,profileName:d,storeName:f,storeFeatures:g,open:i,onOpenChange:j}),(0,b.jsx)("main",{className:h?"min-h-screen pt-12":"lg:pl-72 min-h-screen pt-12 lg:pt-0",children:(0,b.jsx)("div",{className:"p-4",children:a})})]})}a.s(["AppLayoutClient",()=>B],24034)},92143,a=>{a.v(b=>Promise.all(["server/chunks/ssr/_635b2c01._.js"].map(b=>a.l(b))).then(()=>b(52152)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__422c9fc6._.js.map