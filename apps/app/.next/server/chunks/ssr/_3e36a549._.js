module.exports=[8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},92772,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(55294);let e=c.forwardRef(({className:a,type:c="text",...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 placeholder:text-slate-400 shadow-sm transition focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 disabled:cursor-not-allowed disabled:opacity-60 dark:bg-slate-950 dark:text-slate-50 dark:border-slate-800 dark:placeholder:text-slate-400",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},49105,30553,a=>{"use strict";var b=a.i(72131);a.i(35112);var c=a.i(11011),d=a.i(87924),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,c.createSlot)(`Primitive.${e}`),g=b.forwardRef((a,b)=>{let{asChild:c,...g}=a;return(0,d.jsx)(c?f:e,{...g,ref:b})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{});a.s(["Primitive",()=>e],30553);var f=b.forwardRef((a,b)=>(0,d.jsx)(e.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label",a.s(["Label",()=>f,"Root",()=>f],49105)},2783,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(49105),e=a.i(55294);let f=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Root,{ref:f,className:(0,e.cn)("text-xs font-semibold uppercase tracking-[0.25em] text-slate-400",a),...c}));f.displayName=d.Root.displayName,a.s(["Label",()=>f])},7554,72752,25152,a=>{"use strict";function b(a,c,{checkForDefaultPrevented:d=!0}={}){return function(b){if(a?.(b),!1===d||!b.defaultPrevented)return c?.(b)}}a.s(["composeEventHandlers",()=>b],7554);var c=a.i(72131),d=globalThis?.document?c.useLayoutEffect:()=>{};a.s(["useLayoutEffect",()=>d],72752),c[" useEffectEvent ".trim().toString()],c[" useInsertionEffect ".trim().toString()];var e=c[" useInsertionEffect ".trim().toString()]||d;function f({prop:a,defaultProp:b,onChange:d=()=>{},caller:f}){let[g,h,i]=function({defaultProp:a,onChange:b}){let[d,f]=c.useState(a),g=c.useRef(d),h=c.useRef(b);return e(()=>{h.current=b},[b]),c.useEffect(()=>{g.current!==d&&(h.current?.(d),g.current=d)},[d,g]),[d,f,h]}({defaultProp:b,onChange:d}),j=void 0!==a,k=j?a:g;{let b=c.useRef(void 0!==a);c.useEffect(()=>{let a=b.current;if(a!==j){let b=j?"controlled":"uncontrolled";console.warn(`${f} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=j},[j,f])}return[k,c.useCallback(b=>{if(j){let c="function"==typeof b?b(a):b;c!==a&&i.current?.(c)}else h(b)},[j,a,h,i])]}Symbol("RADIX:SYNC_STATE"),a.s(["useControllableState",()=>f],25152)},77192,a=>{"use strict";var b=a.i(72131),c=a.i(70121),d=a.i(72752),e=a=>{var e;let g,h,{present:i,children:j}=a,k=function(a){var c,e;let[g,h]=b.useState(),i=b.useRef(null),j=b.useRef(a),k=b.useRef("none"),[l,m]=(c=a?"mounted":"unmounted",e={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},b.useReducer((a,b)=>e[a][b]??a,c));return b.useEffect(()=>{let a=f(i.current);k.current="mounted"===l?a:"none"},[l]),(0,d.useLayoutEffect)(()=>{let b=i.current,c=j.current;if(c!==a){let d=k.current,e=f(b);a?m("MOUNT"):"none"===e||b?.display==="none"?m("UNMOUNT"):c&&d!==e?m("ANIMATION_OUT"):m("UNMOUNT"),j.current=a}},[a,m]),(0,d.useLayoutEffect)(()=>{if(g){let a,b=g.ownerDocument.defaultView??window,c=c=>{let d=f(i.current).includes(CSS.escape(c.animationName));if(c.target===g&&d&&(m("ANIMATION_END"),!j.current)){let c=g.style.animationFillMode;g.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===g.style.animationFillMode&&(g.style.animationFillMode=c)})}},d=a=>{a.target===g&&(k.current=f(i.current))};return g.addEventListener("animationstart",d),g.addEventListener("animationcancel",c),g.addEventListener("animationend",c),()=>{b.clearTimeout(a),g.removeEventListener("animationstart",d),g.removeEventListener("animationcancel",c),g.removeEventListener("animationend",c)}}m("ANIMATION_END")},[g,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(a=>{i.current=a?getComputedStyle(a):null,h(a)},[])}}(i),l="function"==typeof j?j({present:k.isPresent}):b.Children.only(j),m=(0,c.useComposedRefs)(k.ref,(e=l,(h=(g=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.ref:(h=(g=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in g&&g.isReactWarning)?e.props.ref:e.props.ref||e.ref));return"function"==typeof j||k.isPresent?b.cloneElement(l,{ref:m}):null};function f(a){return a?.animationName||"none"}e.displayName="Presence",a.s(["Presence",()=>e])},3688,a=>{"use strict";var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},87355,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(55294);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-3xl border border-white/10 bg-white/5 p-6 shadow-[0_20px_60px_-20px_rgba(15,23,42,0.45)] backdrop-blur",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-6 flex flex-col gap-2",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-lg font-semibold text-slate-50",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-slate-300",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-slate-100",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-6 flex items-center justify-between",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},77156,a=>{"use strict";var b=a.i(77859);a.s(["Eye",()=>b.default])},77859,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["default",()=>b])},13648,a=>{"use strict";let b=(0,a.i(70106).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["default",()=>b])},41379,a=>{"use strict";var b=a.i(13648);a.s(["EyeOff",()=>b.default])},6230,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45750),e=a.i(87355),f=a.i(55054),g=a.i(92772),h=a.i(2783),i=a.i(38246),j=a.i(77156),k=a.i(41379);function l(){let[a,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)("line"),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),E=async()=>{p(!0);try{window.location.href="/api/line-link?mode=onboarding"}catch(a){console.error("LINE login error:",a),alert("ログインに失敗しました"),p(!1)}},F=a&&m;return(0,b.jsx)("div",{className:"container mx-auto px-4 py-8 pt-24",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Nightbaseへようこそ"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"アカウントを作成して始めましょう"})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{className:"text-gray-900 dark:text-white",children:"新規登録"}),(0,b.jsx)(e.CardDescription,{className:"text-gray-600 dark:text-gray-400",children:"登録方法を選択してください"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-2 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[(0,b.jsx)("button",{onClick:()=>r("line"),className:`flex-1 py-1.5 px-3 text-sm rounded-md transition-colors whitespace-nowrap ${"line"===q?"bg-white dark:bg-gray-700 shadow-sm font-medium text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400"}`,children:"LINEで登録"}),(0,b.jsx)("button",{onClick:()=>r("email"),className:`flex-1 py-1.5 px-3 text-sm rounded-md transition-colors whitespace-nowrap ${"email"===q?"bg-white dark:bg-gray-700 shadow-sm font-medium text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400"}`,children:"メールアドレスで登録"})]}),"email"===q&&(0,b.jsxs)("form",{action:"/app/auth/signup",method:"post",className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{htmlFor:"email",className:"text-gray-900 dark:text-white",children:["メールアドレス ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)(g.Input,{id:"email",name:"email",type:"email",value:s,onChange:a=>t(a.target.value),required:!0,className:"mt-1",placeholder:"example@email.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{htmlFor:"password",className:"text-gray-900 dark:text-white",children:["パスワード ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative mt-1",children:[(0,b.jsx)(g.Input,{id:"password",name:"password",type:y?"text":"password",value:u,onChange:a=>v(a.target.value),required:!0,className:"pr-10",placeholder:"6文字以上"}),(0,b.jsx)("button",{type:"button",onClick:()=>z(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:y?(0,b.jsx)(k.EyeOff,{size:20}):(0,b.jsx)(j.Eye,{size:20})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)(h.Label,{htmlFor:"confirmPassword",className:"text-gray-900 dark:text-white",children:["パスワード（確認） ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsxs)("div",{className:"relative mt-1",children:[(0,b.jsx)(g.Input,{id:"confirmPassword",name:"confirmPassword",type:A?"text":"password",value:w,onChange:a=>x(a.target.value),required:!0,className:"pr-10",placeholder:"パスワードを再入力"}),(0,b.jsx)("button",{type:"button",onClick:()=>B(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:A?(0,b.jsx)(k.EyeOff,{size:20}):(0,b.jsx)(j.Eye,{size:20})})]})]}),C&&(0,b.jsx)("p",{className:"text-sm text-red-600 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:C}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{htmlFor:"terms-email",className:"flex items-start space-x-3 cursor-pointer",children:[(0,b.jsx)(f.Checkbox,{id:"terms-email",checked:a,onCheckedChange:a=>l(a)}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"利用規約に同意する"}),(0,b.jsx)("p",{className:"text-xs",children:(0,b.jsx)(i.default,{href:"/terms-of-service",target:"_blank",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-700 dark:hover:text-blue-300",onClick:a=>a.stopPropagation(),children:"利用規約を確認する"})})]})]}),(0,b.jsxs)("label",{htmlFor:"privacy-email",className:"flex items-start space-x-3 cursor-pointer",children:[(0,b.jsx)(f.Checkbox,{id:"privacy-email",checked:m,onCheckedChange:a=>n(a)}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"プライバシーポリシーに同意する"}),(0,b.jsx)("p",{className:"text-xs",children:(0,b.jsx)(i.default,{href:"/privacy-policy",target:"_blank",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-700 dark:hover:text-blue-300",onClick:a=>a.stopPropagation(),children:"プライバシーポリシーを確認する"})})]})]})]}),(0,b.jsx)(d.Button,{type:"submit",disabled:!F||o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",size:"lg",onClick:a=>{((D(""),s&&u&&w)?u.length<6?(D("パスワードは6文字以上で入力してください"),1):u!==w&&(D("パスワードが一致しません"),1):(D("すべての項目を入力してください"),1))&&a.preventDefault()},children:o?"処理中...":"メールアドレスで新規登録"}),!F&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"両方の項目にチェックを入れてください"})]}),"line"===q&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{htmlFor:"terms",className:"flex items-start space-x-3 cursor-pointer",children:[(0,b.jsx)(f.Checkbox,{id:"terms",checked:a,onCheckedChange:a=>l(a)}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"利用規約に同意する"}),(0,b.jsx)("p",{className:"text-sm",children:(0,b.jsx)(i.default,{href:"/terms-of-service",target:"_blank",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-700 dark:hover:text-blue-300",onClick:a=>a.stopPropagation(),children:"利用規約を確認する"})})]})]}),(0,b.jsxs)("label",{htmlFor:"privacy",className:"flex items-start space-x-3 cursor-pointer",children:[(0,b.jsx)(f.Checkbox,{id:"privacy",checked:m,onCheckedChange:a=>n(a)}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"プライバシーポリシーに同意する"}),(0,b.jsx)("p",{className:"text-sm",children:(0,b.jsx)(i.default,{href:"/privacy-policy",target:"_blank",className:"text-blue-600 dark:text-blue-400 underline hover:text-blue-700 dark:hover:text-blue-300",onClick:a=>a.stopPropagation(),children:"プライバシーポリシーを確認する"})})]})]})]}),(0,b.jsx)(d.Button,{onClick:E,disabled:!F||o,className:"w-full bg-[#00B900] hover:bg-[#00A000] text-white",size:"lg",children:o?"処理中...":"LINEで新規登録"}),!F&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"両方の項目にチェックを入れてください"})]})]})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(i.default,{href:"/login",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary",children:"既にアカウントをお持ちの方はこちら"})})]})})}a.s(["default",()=>l,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=_3e36a549._.js.map