module.exports=[27534,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(55294);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-left text-sm text-slate-900",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("text-xs uppercase tracking-[0.25em] text-slate-500",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("divide-y divide-slate-100",a),...c}));g.displayName="TableBody";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b border-slate-200 transition hover:bg-slate-50",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("py-3 text-xs font-semibold text-slate-500",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("py-4 text-sm text-slate-900",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-xs text-slate-500",a),...c})).displayName="TableCaption",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("bg-slate-50",a),...c})).displayName="TableFooter",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},3688,a=>{"use strict";var b=a.i(72131),c=a.i(72752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},11587,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97942),e=a.i(55294);let f=d.Root,g=d.Trigger,h=d.Portal,i=d.Close,j=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Overlay,{ref:f,className:(0,e.cn)("fixed inset-0 z-50 bg-slate-950/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out",a),...c}));j.displayName=d.Overlay.displayName;let k=c.forwardRef(({className:a,children:c,...f},g)=>(0,b.jsxs)(h,{children:[(0,b.jsx)(j,{}),(0,b.jsx)(d.Content,{ref:g,className:(0,e.cn)("fixed left-1/2 top-1/2 z-50 w-[calc(100%-2rem)] max-w-xl -translate-x-1/2 -translate-y-1/2 rounded-3xl border border-slate-200 bg-white p-8 text-slate-900 shadow-2xl backdrop-blur data-[state=open]:animate-in data-[state=closed]:animate-out dark:border-white/10 dark:bg-slate-950/95 dark:text-slate-100",a),...f,children:c})]}));k.displayName=d.Content.displayName;let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,e.cn)("mb-6 flex flex-col gap-2 text-center sm:text-left",a),...c});l.displayName="DialogHeader";let m=({className:a,...c})=>(0,b.jsx)("div",{className:(0,e.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});m.displayName="DialogFooter";let n=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Title,{ref:f,className:(0,e.cn)("text-xl font-semibold text-slate-900 dark:text-slate-50",a),...c}));n.displayName=d.Title.displayName;let o=c.forwardRef(({className:a,...c},f)=>(0,b.jsx)(d.Description,{ref:f,className:(0,e.cn)("text-sm text-slate-500 dark:text-slate-400",a),...c}));o.displayName=d.Description.displayName,a.s(["Dialog",()=>f,"DialogClose",()=>i,"DialogContent",()=>k,"DialogDescription",()=>o,"DialogFooter",()=>m,"DialogHeader",()=>l,"DialogTitle",()=>n,"DialogTrigger",()=>g])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},53007,17755,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11587);let e=(0,a.i(70106).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>e],17755);var f=a.i(13749),g=a.i(81560),h=a.i(45750),i=a.i(92772),j=a.i(2783),k=a.i(62403),l=a.i(5050),m=(0,l.createServerReference)("4053f19b6ba98e578a5988f028429cf9430ddcb1bf",l.callServer,void 0,l.findSourceMapURL,"createMenu"),n=(0,l.createServerReference)("4070165c305bd13da630c1b8b8cc0969aae9be5211",l.callServer,void 0,l.findSourceMapURL,"updateMenu"),o=(0,l.createServerReference)("40691d237e8932b9146ced4ea863c081d5f59d1a9d",l.callServer,void 0,l.findSourceMapURL,"deleteMenu"),p=a.i(50944);function q({menu:a,open:l,onOpenChange:q,categories:r}){let[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)("select"),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1),C=(0,p.useRouter)();(0,c.useEffect)(()=>{l&&(a?(x(a.category),v("select"),z("")):(x(""),z(""),v(r.length>0?"select":"create")))},[l,a,r]);let D=async b=>{b.preventDefault(),t(!0);let c=new FormData(b.currentTarget),d="";if(!(d="create"===u?y:w)){alert("カテゴリーを入力してください"),t(!1);return}c.set("category",d);try{a?(c.append("id",a.id),await n(c)):await m(c),q(!1),C.refresh()}catch(a){console.error("Failed to save menu:",a),alert("メニューの保存に失敗しました")}finally{t(!1)}},E=async()=>{if(a){t(!0);try{await o(a.id),q(!1),C.refresh()}catch(a){console.error("Failed to delete menu:",a),alert("削除に失敗しました")}finally{t(!1)}}};return(0,b.jsx)(d.Dialog,{open:l,onOpenChange:q,children:(0,b.jsxs)(d.DialogContent,{className:"sm:max-w-[425px] bg-white dark:bg-gray-800 w-[95%] rounded-lg max-h-[90vh] overflow-y-auto p-6 text-gray-900 dark:text-gray-100",children:[(0,b.jsxs)(d.DialogHeader,{className:"flex flex-row items-center justify-between gap-2 relative",children:[(0,b.jsx)("button",{type:"button",onClick:()=>q(!1),className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-gray-500 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-700 focus-visible:outline-none focus-visible:ring-0","aria-label":"戻る",children:(0,b.jsx)(f.ChevronLeft,{className:"h-4 w-4"})}),(0,b.jsx)(d.DialogTitle,{className:"flex-1 text-center text-xl font-bold text-gray-900 dark:text-white truncate",children:a?"メニュー編集":"メニュー追加"}),a?(0,b.jsx)("button",{type:"button",onClick:()=>B(!A),className:"inline-flex h-8 w-8 items-center justify-center rounded-full text-gray-500 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-100 dark:hover:bg-gray-700","aria-label":"オプション",children:(0,b.jsx)(e,{className:"h-4 w-4"})}):(0,b.jsx)("div",{className:"w-8 h-8"}),A&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>B(!1)}),(0,b.jsx)("div",{className:"absolute right-0 top-10 z-50 w-40 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg p-2 flex flex-col gap-1 text-sm animate-in fade-in zoom-in-95 duration-100",children:(0,b.jsxs)("button",{type:"button",className:"w-full text-left px-3 py-2 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center gap-2",onClick:()=>{B(!1),E()},children:[(0,b.jsx)(g.Trash2,{className:"h-4 w-4"}),"削除"]})})]})]}),(0,b.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"name",children:"メニュー名"}),(0,b.jsx)(i.Input,{id:"name",name:"name",defaultValue:a?.name||"",placeholder:"例: 生ビール",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{children:"カテゴリー"}),(0,b.jsxs)("div",{className:"inline-flex h-10 items-center rounded-full bg-gray-100 dark:bg-gray-700 p-1 w-full",children:[(0,b.jsx)("button",{type:"button",onClick:()=>v("select"),disabled:0===r.length,className:`flex-1 h-full flex items-center justify-center rounded-full text-sm font-medium transition-colors ${"select"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:"既存から選択"}),(0,b.jsx)("button",{type:"button",onClick:()=>v("create"),className:`flex-1 h-full flex items-center justify-center rounded-full text-sm font-medium transition-colors ${"create"===u?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:"新規作成"})]}),"select"===u?(0,b.jsxs)(k.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"カテゴリーを選択"})}),(0,b.jsx)(k.SelectContent,{children:r.map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a},a))})]}):(0,b.jsx)(i.Input,{value:y,onChange:a=>z(a.target.value),placeholder:"新しいカテゴリー名"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"price",children:"金額 (円)"}),(0,b.jsx)(i.Input,{id:"price",name:"price",type:"number",defaultValue:a?.price||"",placeholder:"1000",required:!0,min:"0"})]}),(0,b.jsxs)(d.DialogFooter,{className:"flex-col sm:flex-col gap-3",children:[(0,b.jsx)(h.Button,{type:"submit",disabled:s,className:"h-11 w-full",children:s?"保存中...":"保存"}),(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>q(!1),className:"h-11 w-full",children:"キャンセル"})]})]})]})})}a.s(["MenuEditModal",()=>q],53007)},33601,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45750),e=a.i(92772),f=a.i(27534),g=a.i(15618),h=a.i(87532),i=a.i(53007),j=a.i(62403);function k({initialMenus:a,categories:k}){let[l,m]=(0,c.useState)(a),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("all"),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),v=a.filter(a=>{let b=a.name.toLowerCase().includes(n.toLowerCase()),c="all"===p||a.category===p;return b&&c});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,b.jsxs)("div",{className:"relative w-full sm:w-[240px]",children:[(0,b.jsx)(h.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),(0,b.jsx)(e.Input,{placeholder:"メニュー名で検索",value:n,onChange:a=>o(a.target.value),className:"pl-8"})]}),(0,b.jsxs)(j.Select,{value:p,onValueChange:q,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full sm:w-[240px]",children:(0,b.jsx)(j.SelectValue,{placeholder:"カテゴリー"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"すべてのカテゴリー"}),k.map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:a},a))]})]})]}),(0,b.jsxs)(d.Button,{onClick:()=>{u(null),s(!0)},className:"w-full sm:w-auto",children:[(0,b.jsx)(g.Plus,{className:"mr-2 h-4 w-4"}),"メニュー追加"]})]}),(0,b.jsx)("div",{className:"rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:(0,b.jsxs)(f.TableRow,{className:"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,b.jsx)(f.TableHead,{className:"text-gray-500 dark:text-gray-400 text-center w-1/3",children:"メニュー名"}),(0,b.jsx)(f.TableHead,{className:"text-gray-500 dark:text-gray-400 text-center w-1/3",children:"カテゴリー"}),(0,b.jsx)(f.TableHead,{className:"text-gray-500 dark:text-gray-400 text-center w-1/3",children:"金額"})]})}),(0,b.jsx)(f.TableBody,{children:0===v.length?(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:3,className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"メニューが見つかりません"})}):v.map(a=>(0,b.jsxs)(f.TableRow,{className:"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer",onClick:()=>{u(a),s(!0)},children:[(0,b.jsx)(f.TableCell,{className:"text-center text-gray-900 dark:text-white",children:a.name}),(0,b.jsx)(f.TableCell,{className:"text-center",children:(0,b.jsx)("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 dark:bg-gray-700 dark:text-gray-200",children:a.category})}),(0,b.jsxs)(f.TableCell,{className:"text-center text-gray-900 dark:text-white",children:["¥",a.price.toLocaleString()]})]},a.id))})]})}),(0,b.jsx)(i.MenuEditModal,{menu:t,open:r,onOpenChange:s,categories:k})]})}a.s(["MenuList",()=>k])}];

//# sourceMappingURL=_ee224e89._.js.map