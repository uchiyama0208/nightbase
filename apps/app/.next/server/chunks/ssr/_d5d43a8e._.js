module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},69827,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(49815),f=a.i(96221);function g(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f.Loader2,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"ログイン処理中..."})]})}),children:(0,b.jsx)(h,{})})}function h(){let a=(0,d.useRouter)(),g=(0,d.useSearchParams)(),h=(0,e.createBrowserClient)(),[i,j]=(0,c.useState)(null);return((0,c.useEffect)(()=>{(async()=>{let b=g.get("access_token"),c=g.get("refresh_token"),d=g.get("next")||"/app/dashboard",e=g.get("is_friend");if(!b||!c)return j("認証トークンが見つかりません。");try{let{error:f}=await h.auth.setSession({access_token:b,refresh_token:c});if(f)console.error("Error setting session:",f),j(`セッションの確立に失敗しました: ${f.message}`);else{let b=new URL(d,window.location.origin);null!==e&&b.searchParams.set("is_friend",e),a.replace(b.pathname+b.search)}}catch(a){console.error("Unexpected error:",a),j("予期せぬエラーが発生しました。")}})()},[a,g,h.auth]),i)?(0,b.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-6 shadow-md text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"ログインエラー"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:i}),(0,b.jsx)("button",{onClick:()=>a.push("/login"),className:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700",children:"ログインページへ戻る"})]})}):(0,b.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(f.Loader2,{className:"h-10 w-10 animate-spin text-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"ログイン処理中..."})]})})}a.s(["default",()=>g,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=_d5d43a8e._.js.map