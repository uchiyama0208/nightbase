{"version":3,"sources":["../../../../../../apps/marketing/src/components/blog/BlogPostList.tsx","../../../../../../apps/marketing/src/components/blog/BlogPostCard.tsx"],"sourcesContent":["'use client';\n\nimport { useMemo, useState } from \"react\";\n\nimport type { BlogPost } from \"@/types/blog\";\nimport { cn } from \"@/lib/utils\";\n\nimport { BlogPostCard } from \"./BlogPostCard\";\n\ninterface BlogPostListProps {\n  posts: BlogPost[];\n}\n\nconst ALL_CATEGORY = \"すべて\";\nconst ALL_TAG = \"すべて\";\n\nexport function BlogPostList({ posts }: BlogPostListProps) {\n  const [selectedCategory, setSelectedCategory] = useState<string>(ALL_CATEGORY);\n  const [selectedTag, setSelectedTag] = useState<string>(ALL_TAG);\n\n  const publishedPosts = useMemo(\n    () => posts.filter((post) => post.status === \"published\" && post.slug.length > 0),\n    [posts]\n  );\n\n  const { categories, showFilterBar, tags } = useMemo(() => {\n    const categorySet = new Set<string>();\n    const tagSet = new Set<string>();\n\n    publishedPosts.forEach((post) => {\n      if (post.category) {\n        categorySet.add(post.category);\n      }\n      (post.tags ?? []).forEach((tag) => {\n        if (typeof tag === \"string\" && tag.trim().length > 0) {\n          tagSet.add(tag.trim());\n        }\n      });\n    });\n\n    const hasCategory = categorySet.size > 0;\n    const hasTags = tagSet.size > 0;\n    const shouldShowFilter = (hasCategory || hasTags) && publishedPosts.length > 0;\n\n    return {\n      categories: [ALL_CATEGORY, ...Array.from(categorySet)],\n      showFilterBar: shouldShowFilter,\n      tags: Array.from(tagSet),\n    };\n  }, [publishedPosts]);\n\n  const filteredPosts = useMemo(() => {\n    return publishedPosts.filter((post) => {\n      const categoryOk =\n        selectedCategory === ALL_CATEGORY || post.category === selectedCategory;\n      const tagOk =\n        selectedTag === ALL_TAG || (post.tags ?? []).includes(selectedTag);\n      return categoryOk && tagOk;\n    });\n  }, [publishedPosts, selectedCategory, selectedTag]);\n\n  return (\n    <section className=\"space-y-10\">\n      {showFilterBar && (\n        <div className=\"animate-fade-up space-y-3\">\n          {categories.length > 1 && (\n            <div className=\"flex flex-wrap items-center justify-center gap-3 sm:justify-start\">\n              {categories.map((category) => {\n                const isActive = selectedCategory === category;\n\n                return (\n                  <button\n                    key={category}\n                    type=\"button\"\n                    onClick={() => setSelectedCategory(category)}\n                    className={cn(\n                      \"whitespace-nowrap rounded-full px-5 py-2 text-sm font-medium transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary/40\",\n                      isActive\n                        ? \"bg-primary text-white shadow-lg shadow-primary/30\"\n                        : \"border border-white/60 bg-white/50 text-neutral-600 hover:border-primary/40 hover:text-primary\"\n                    )}\n                    aria-pressed={isActive}\n                  >\n                    {category}\n                  </button>\n                );\n              })}\n            </div>\n          )}\n\n          {tags.length > 0 && (\n            <div className=\"flex flex-wrap items-center justify-center gap-2 text-xs sm:justify-start\">\n              <button\n                type=\"button\"\n                onClick={() => setSelectedTag(ALL_TAG)}\n                className={cn(\n                  \"whitespace-nowrap rounded-full px-4 py-1.5 text-xs font-medium transition\",\n                  selectedTag === ALL_TAG\n                    ? \"bg-primary text-white shadow-sm shadow-primary/30\"\n                    : \"bg-primary/10 text-primary hover:bg-primary/15\"\n                )}\n              >\n                すべてのタグ\n              </button>\n              {tags.map((tag) => {\n                const isActive = selectedTag === tag;\n                return (\n                  <button\n                    key={tag}\n                    type=\"button\"\n                    onClick={() => setSelectedTag(tag)}\n                    className={cn(\n                      \"whitespace-nowrap rounded-full px-4 py-1.5 text-xs font-medium transition\",\n                      isActive\n                        ? \"bg-primary text-white shadow-sm shadow-primary/30\"\n                        : \"bg-primary/10 text-primary hover:bg-primary/15\"\n                    )}\n                    aria-pressed={isActive}\n                  >\n                    {tag}\n                  </button>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      )}\n\n      {publishedPosts.length === 0 ? (\n        <div className=\"glass-panel p-12 text-center text-base font-medium text-neutral-500\">\n          現在公開中のブログ記事はありません。\n        </div>\n      ) : filteredPosts.length === 0 ? (\n        <div className=\"glass-panel p-12 text-center text-base font-medium text-neutral-500\">\n          選択したカテゴリに該当する記事はまだありません。\n        </div>\n      ) : (\n        <div className=\"grid gap-8 md:grid-cols-2 xl:grid-cols-3\">\n          {filteredPosts.map((post, index) => (\n            <BlogPostCard key={post.id} post={post} className=\"motion-safe:animate-fade-up\" style={{ animationDelay: `${index * 60}ms` }} />\n          ))}\n        </div>\n      )}\n    </section>\n  );\n}\n","import Link from \"next/link\";\nimport type { CSSProperties } from \"react\";\n\nimport type { BlogPost } from \"@/types/blog\";\nimport { cn, formatDate } from \"@/lib/utils\";\n\ninterface BlogPostCardProps {\n  post: BlogPost;\n  className?: string;\n  style?: CSSProperties;\n}\n\nexport function BlogPostCard({ post, className, style }: BlogPostCardProps) {\n  const dateSource = post.published_at;\n  const primaryCategory = post.tags && post.tags.length > 0 ? post.tags[0] : null;\n  const coverImageUrl = post.cover_image_url ?? \"\";\n\n  return (\n    <Link\n      href={`/blog/${post.slug}`}\n      className={cn(\n        \"group block h-full focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-primary/40\",\n        className\n      )}\n      style={style}\n    >\n      <article className=\"glass-panel hover-lift flex h-full flex-col justify-between gap-6 p-8\">\n        <div className=\"space-y-5\">\n          <div className=\"flex flex-wrap items-center gap-3 text-xs font-semibold uppercase tracking-[0.25em] text-neutral-400\">\n            {primaryCategory && (\n              <span className=\"inline-flex items-center rounded-full border border-primary/30 bg-primary/10 px-3 py-1 text-[11px] text-primary\">\n                {primaryCategory}\n              </span>\n            )}\n            {dateSource && <span>{formatDate(dateSource)}</span>}\n          </div>\n          <div className=\"space-y-3\">\n            <h2 className=\"text-2xl font-semibold leading-snug text-[#0f172a] transition-colors group-hover:text-primary\">\n              {post.title}\n            </h2>\n            <p className=\"text-sm leading-relaxed text-neutral-600\">\n              {post.excerpt ?? \"NightBase チームの視点で、ナイトワークDXの最新情報をお届けします。\"}\n            </p>\n          </div>\n          {coverImageUrl ? (\n            <div className=\"overflow-hidden rounded-2xl border border-neutral-200/70 bg-neutral-100\">\n              <div className=\"aspect-[16/9] w-full\">\n                {/* eslint-disable-next-line @next/next/no-img-element */}\n                <img\n                  src={coverImageUrl}\n                  alt={post.title}\n                  className=\"h-full w-full object-cover\"\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"overflow-hidden rounded-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\n              <div className=\"aspect-[16/9] w-full px-6 py-5\">\n                <p className=\"text-xs font-semibold uppercase tracking-[0.3em] text-primary/70\">\n                  NightBase Blog\n                </p>\n                <p className=\"mt-2 line-clamp-2 text-sm font-semibold text-slate-50\">{post.title}</p>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"mt-4 flex items-center justify-between text-sm font-semibold text-primary\">\n          <span className=\"inline-flex items-center gap-2\">\n            続きを読む\n            <svg\n              aria-hidden\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"transition-transform duration-300 group-hover:translate-x-1\"\n            >\n              <path\n                d=\"M4 8h7m0 0-3-3m3 3-3 3\"\n                stroke=\"currentColor\"\n                strokeWidth=\"1.5\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              />\n            </svg>\n          </span>\n          <span className=\"text-xs font-medium uppercase tracking-[0.3em] text-neutral-400\">Details</span>\n        </div>\n      </article>\n    </Link>\n  );\n}\n"],"names":[],"mappings":"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"}